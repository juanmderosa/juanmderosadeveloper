<div class="menu-container">
  <div class="checkbox-container">
    <label
      for="mobile-nav"
      class="menu-icon-container">
      <span class="menu-bar"></span>
      <span class="menu-bar"></span>
      <span class="menu-bar"></span>
    </label>
    <input
      type="checkbox"
      name="mobile-nav"
      id="mobile-nav"
      class="icon"
    />
  </div>

  <nav
    id="nav"
    class="menu-content no-show">
    <a href="#sobremi">Sobre mi</a>
    <a href="#proyectos">Proyectos</a>
    <a href="#opiniones">Opiniones</a>
  </nav>
</div>

<style>
  .menu-container {
    border: 1px solid var(--ghost-white);
    position: relative;
    position: fixed;
    top: 1rem;
    display: inline-block;
    width: max-content;
    height: max-content;
    z-index: 999;
    cursor: pointer;
    border-radius: 12px;
    background: radial-gradient(
      circle,
      rgb(109, 84, 207) 0%,
      rgba(62, 51, 107, 1) 89%
    );
    box-shadow:
      inset 0 5px 7px rgba(255, 255, 255, 0.35),
      inset 0 -5px 7px rgba(0, 0, 0, 0.05),
      inset 5px 0 7px rgba(109, 84, 207, 0.05),
      inset -5px 0 7px rgba(109, 84, 207, 0.05),
      0 2px 10px rgba(109, 84, 207, 0.1);
    transition: all 0.3s ease-in;
    padding: 1rem;
  }

  .menu-icon-container {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: flex-start;
    gap: 0.3rem;
    cursor: pointer;
  }

  .menu-icon-container-open {
    width: 150px;
    border-bottom-left-radius: 0px;
    border-bottom-right-radius: 0px;
    border: none;
  }
  .menu-bar {
    width: 25px;
    height: 4px;
    background-color: var(--ghost-white);
    display: block;
  }

  .checkbox-container {
    position: relative;
    width: 100%;
    height: 100%;
  }

  #mobile-nav {
    width: 60px;
    height: 60px;
    position: absolute;
    padding: 0;
    margin: 0;
    top: -17px;
    left: -17px;
    appearance: none;
    cursor: pointer;
  }

  .menu-content {
    position: absolute;
    top: 100%;
    left: 0;
    width: 150px;
    background: radial-gradient(
      circle,
      rgb(109, 84, 207) 0%,
      rgba(62, 51, 107, 1) 89%
    );
    box-shadow:
      inset 0 5px 7px rgba(255, 255, 255, 0.35),
      inset 0 -5px 7px rgba(0, 0, 0, 0.05),
      inset 5px 0 7px rgba(109, 84, 207, 0.05),
      inset -5px 0 7px rgba(109, 84, 207, 0.05),
      0 2px 10px rgba(109, 84, 207, 0.1);
    border-radius: 12px;
    border-top-left-radius: 0;
    border-top-right-radius: 0;
    display: flex;
    flex-direction: column;
    gap: 1rem;
    padding: 1rem;
    opacity: 0;
    transform: translateY(-10px);
    transition:
      opacity 0.3s ease,
      transform 0.3s ease;
    pointer-events: none;
  }

  .menu-content.show {
    opacity: 1;
    transform: translateY(0);
    pointer-events: auto;
  }

  .menu-content.no-show {
    opacity: 0;
    transform: translateY(-10px);
    pointer-events: none;
  }

  nav > a {
    color: var(--ghost-white);
    transition: all 0.5s ease-in;
    text-decoration: none;
  }

  nav > a:hover {
    color: var(--silver);
  }
</style>

<script is:inline>
  document.addEventListener("DOMContentLoaded", function () {
    const input = document.getElementById("mobile-nav");
    const nav = document.getElementById("nav");
    const menuContainer = document.querySelector(".menu-container");

    input.addEventListener("change", () => {
      if (input.checked) {
        menuContainer.classList.add("menu-icon-container-open");
        nav.classList.remove("no-show");
        nav.classList.add("show");
      } else {
        menuContainer.classList.remove("menu-icon-container-open");
        nav.classList.add("no-show");
        nav.classList.remove("show");
      }
    });
  });
</script>
